{% extends '::base.html.twig' %}



{% block body %}

    <div class="header">
        <div class="container" style="margin-top: 100px ">
            <div class="row centered">
                <div class="col-md-12">


                    <div class="panel panel-info">
                        <div class="panel-heading"> <h2 style="font-family: cursive;">Response</h2> </div>
                        <div class="panel-body" style="height: 400px">
                            {% for res in result %}
                                <p ocResult="{{ loop.index0 }}">
                                    {{ res.answercode }}
                                </p>

                            {% endfor %}
                       </div>

                    </div>


                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript">

        var es = new EventSource("{{ path('current_result_oc',{quiz_id:id}) }}");
        es.addEventListener("message", function (e) {
            arr = JSON.parse(e.data);

            for (x in arr) {

                $('[ocResult="' + x + '"]').html(arr[x].answercode);
            }
        }, false);
    </script>



{% endblock %}
